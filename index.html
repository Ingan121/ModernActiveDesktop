<!DOCTYPE html>
<html>
<head>
    <title>ModernActiveDesktop</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="icon.ico">
    <link rel="stylesheet" href="css/wall.css">
    <link rel="stylesheet" href="css/98.css">
    <link id="scheme" rel="stylesheet" href="data:text/css,">
    <link id="menuStyle" rel="stylesheet" href="">
    <style id="langStyle"></style>
    <style id="style"></style>
</head>
<body tabindex="-1">
    <div id="bgHtmlContainer" class="bgHtml">
        <iframe id="bgHtmlView" class="bgHtml" src="bghtml/index.html"></iframe>
    </div>
    <video id="bgVideo" src="" autoplay loop></video>
    <div class="windowContainer">
        <div class="windowTitlebar">
            <div class="title-bar-text">ModernActiveDesktop</div>
            <div class="title-bar-controls">
                <div class="windowMenuBtn windowBtn">
                    <p class="windowBtnText">‚è∑</p>
                </div>
                <img class="windowIcon" src="images/mad16.png">
                <div class="windowCloseBtn windowBtn">
                    <p class="windowBtnText">üóô</p>
                </div>
                <button class="windowCloseBtnAlt window-button"></button>
            </div>
        </div>
        <div class="windowFrame">
            <iframe class="windowElement" name="DeskMovrW" src="ChannelBar.html" width="84px" height="471px"></iframe>
            <div class="resizeArea"></div>
            <div class="dropdownBg" tabindex="-1">
                <div class="dropdown">
                    <div class="dropdownItem">Dummy</div>
                </div>
            </div>
        </div>
        <div class="windowMenuBg contextMenuBg window" tabindex="-1">
            <div class="windowMenu contextMenu window-body">
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_WINDOW_MENUITEM_CONFIGURE">C<u>o</u>nfigure</mad-string></p><p class="submenuMark">‚èµ</p></div>
                <div class="contextMenuItem debug"><p><mad-string data-locid="MAD_WINDOW_MENUITEM_DEBUG"><u>D</u>ebug</mad-string> <span class="windowNumber"></span></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_WINDOW_MENUITEM_RESET">R<u>e</u>set</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_WINDOW_MENUITEM_RELOAD"><u>R</u>eload</mad-string></p></div>
                <div class="contextMenuItem closeIcon"><p><b><mad-string data-locid="UI_CLOSE"><u>C</u>lose</mad-string></b></p></div>
            </div>
        </div>
        <div class="confMenuBg contextMenuBg window" tabindex="-1">
            <div class="confMenu contextMenu window-body">
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_AD"><u>A</u>ctive Desktop</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_NONAD"><u>N</u>on-ActiveDesktop Channel Bar</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_WND"><u>W</u>indow</mad-string></p></div>
                <hr>
                <div class="contextMenuItem checkedItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_SCALE"><u>S</u>cale contents</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_AOT">A<u>l</u>ways on top</mad-string></p></div>
                <div class="contextMenuItem checkedItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_RESIZABLE">Re<u>s</u>izable</mad-string></p></div>
                <hr>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_CHANGE_URL"><u>C</u>hange URL</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_CHANGE_TITLE">Change <u>t</u>itle</mad-string></p></div>
                <hr>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_NEW_WINDOW">N<u>e</u>w window</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="MAD_CONF_MENUITEM_RELOAD_WALLPAPER"><u>R</u>eload ModernActiveDesktop</mad-string></p></div>
                <div class="contextMenuItem"><p><mad-string data-locid="UI_MENUITEM_PROPERTIES"><u>P</u>roperties</mad-string></p></div>
            </div>
        </div>
    </div>
    <div id="windowOutline">
        <div id="windowOutlineInner"></div>
    </div>
    <div id="mainMenuBg" class="contextMenuBg window" tabindex="-1">
        <div id="mainMenu" class="contextMenu window-body">
            <div class="contextMenuItem"><p><mad-string data-locid="MAD_MAIN_MENUITEM_NEW"><u>N</u>ew</mad-string></p></div>
            <div class="contextMenuItem"><p><mad-string data-locid="UI_MENUITEM_PROPERTIES">P<u>r</u>operties</mad-string></p></div>
        </div>
    </div>
    <div id="msgboxBg">
        <div id="msgbox" class="window">
            <div class="title-bar">
                <div class="title-bar-text">ModernActiveDesktop</div>
                <div class="title-bar-controls">
                    <button id="msgbox-close" class="window-button"></button>
                </div>
            </div>
            <div class="window-body">
                <section class="field-row">
                    <img id="msgbox-icon" src="images/info.png">
                    <p id="msgbox-msg">Message</p>
                </section>
                <input id="msgbox-input" type="text" autocomplete="off">
                <section id="msgbox-buttons" class="field-row">
                    <button id="msgbox-btn1"><mad-string data-locid="UI_OK">OK</mad-string></button>
                    <button id="msgbox-btn2"><mad-string data-locid="UI_CANCEL">Cancel</mad-string></button>
                </section>
            </div>
        </div>
        <div id="osk" class="window">
            <div class="title-bar">
                <div class="title-bar-text">
                    <mad-string data-locid="OSK_TITLE">On-Screen Keyboard</mad-string>
                </div>
            </div>
            <iframe id="oskWindow"></iframe>
        </div>
    </div>
    <div class="miniPicker window" tabindex="-1">
        <div class="miniPickerColors">
            <div class="miniPickerColor" style="background-color: #FFFFFF"></div>
            <div class="miniPickerColor" style="background-color: #000000"></div>
            <div class="miniPickerColor" style="background-color: #C0C0C0"></div>
            <div class="miniPickerColor" style="background-color: #808080"></div>
            <div class="miniPickerColor" style="background-color: #FF0000"></div>
            <div class="miniPickerColor" style="background-color: #800000"></div>
            <div class="miniPickerColor" style="background-color: #FFFF00"></div>
            <div class="miniPickerColor" style="background-color: #808000"></div>
            <div class="miniPickerColor" style="background-color: #00FF00"></div>
            <div class="miniPickerColor" style="background-color: #008000"></div>
            <div class="miniPickerColor" style="background-color: #00FFFF"></div>
            <div class="miniPickerColor" style="background-color: #008080"></div>
            <div class="miniPickerColor" style="background-color: #0000FF"></div>
            <div class="miniPickerColor" style="background-color: #000080"></div>
            <div class="miniPickerColor" style="background-color: #FF00FF"></div>
            <div class="miniPickerColor" style="background-color: #800080"></div>
            <div class="miniPickerColor" style="background-color: #C0DCC0"></div>
            <div class="miniPickerColor" style="background-color: #A6CAF0"></div>
            <div class="miniPickerColor" style="background-color: #F0FBFF"></div>
            <div class="miniPickerColor" style="background-color: #A0A0A4"></div>
        </div>
        <hr>
        <button class="openColorPickerBtn" accesskey="o"><mad-string data-locid="UI_OTHER"><u>O</u>ther...</mad-string></button>
    </div>
    <div id="errorWnd" class="window">
        <p id="errorMsg">ModernActiveDesktop failed to initialize because of an unknown error. Please consult the log below and report this to https://github.com/Ingan121/ModernActiveDesktop/issues.</p>
        <pre id="errorLog"></pre>
        <noscript>Please enable JavaScript!</noscript>
        <button onclick="copyLog();">Copy log</button> <button onclick="location.reload(true);">Retry</button> <button onclick="errorWnd.style.display='none';">Ignore</button>
    </div>
    <div id="debug" class="debug">
        <span>ModernActiveDesktop 3.3.0 Pre-release</span><br>
        <span>Loaded from <span id="location"></span></span><br>
        <span>Running in <span id="runmode">browser</span><span id="simmode"></span></span><br>
        <span>Keyboard support level: <span id="kbdsupport">1</span></span><br>
        <span id="debugLabel"><mad-string data-locid="MAD_DEBUG_DEBUG_MODE">Debug mode</mad-string></span><br>
        <span id="initNotCompleteLabel"><mad-string data-locid="MAD_DEBUG_INIT_NOT_COMPLETE">Initialization not complete</mad-string></span><br>
        <a href="confmgr.html?action=reset"><mad-string data-locid="MAD_DEBUG_RESET_CONFIG">Reset config</mad-string></a><br>
        <a href="javascript:location.reload(true);"><mad-string data-locid="MAD_DEBUG_REFRESH">Refresh</mad-string></a><br>
        <a id="jsRunBtn" href="javascript:(function(){eval(prompt('Enter JavaScript code to run.'));return;})();"><mad-string data-locid="MAD_DEBUG_RUNJS">Run JavaScript code</mad-string></a><br>
        <a href="javascript:showErrors();"><mad-string data-locid="MAD_DEBUG_SHOW_ERRORS">Show errors</mad-string> <span id="errorCnt"></span></a><br>
        <a href="javascript:toggleDebugLog();"><mad-string id="debugLogBtn" data-locid="MAD_DEBUG_ENABLE_LOGGING">Enable debug logging</mad-string></a><br>
        <a href="javascript:toggleRunningMode();"><mad-string data-locid="MAD_DEBUG_SIMULATE">Simulate other environment</mad-string></a><br>
        <a href="javascript:toggleKbdSupport();"><mad-string data-locid="MAD_DEBUG_KBD_SUPPORT">Change keyboard support level</mad-string></a><br>
        <a href="javascript:deactivateDebugMode();"><mad-string data-locid="MAD_DEBUG_DEACTIVATE">Deactivate debug mode</mad-string></a>
    </div>
    <script>
        var errorLog = document.getElementById("errorLog");
        var errorCnt = document.getElementById("errorCnt");

        if (document.documentMode) {
            errorLog.textContent = "Internet Explorer is NOT supported! Please use a modern browser like Chrome, Firefox, or Edge.\n";
        }

        window.onerror = function (msg, url, linenum) {
            errorLog.textContent += msg + ' (' + url + ':' + linenum + ')\n';
            errorCnt.textContent = '(' + (parseInt(errorCnt.textContent.slice(1, -1) || 0) + 1) + ')';
        }

        function copyLog() {
            var tmp = document.createElement("textarea");
            document.body.appendChild(tmp);
            tmp.value = errorLog.textContent;
            tmp.select();
            document.execCommand('copy');
            document.body.removeChild(tmp);
        }

        window.madMainWindow = true;
    </script>
    <script src="js/functions.js"></script>
    <script src="js/libmad-strings.js"></script>
    <script src="js/libmad-sysplug.js"></script>
    <script src="js/libmad-input.js"></script>
    <script src="js/DeskMover.js"></script>
    <script src="js/DeskSettings.js"></script>
</body>
</html>
